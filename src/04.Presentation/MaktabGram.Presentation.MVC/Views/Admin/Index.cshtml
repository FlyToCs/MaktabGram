@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    Layout = "_AdminLayout";
}
<main class="flex-1 overflow-x-hidden overflow-y-auto md:mr-64 p-6 transition-all duration-300">

    <!-- Top Bar for Mobile Menu -->
    <div class="md:hidden flex justify-between items-center mb-6">
        <h2 class="text-2xl font-semibold text-gray-700">داشبورد مدیریتی</h2>
        <button id="open-sidebar" class="text-gray-500 hover:text-gray-700 focus:outline-none">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
        </button>
    </div>

    <h1 class="text-3xl font-bold text-gray-800 mb-8 hidden md:block">داشبورد مدیریتی</h1>

    <!-- 1. Stats Cards - Updated with Farsi Digits -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">

        <div class="card p-5 border-b-4 border-indigo-500">
            <p class="text-gray-500 text-sm">کل فروش</p>
            <p class="text-3xl font-semibold text-gray-900 mt-1">۴۵٬۲۳۱٬۰۰۰</p>
            <p class="text-green-500 text-xs mt-1">▲ ۱۲% از ماه قبل</p>
        </div>

        <div class="card p-5 border-b-4 border-red-500">
            <p class="text-gray-500 text-sm">کاربران جدید</p>
            <p class="text-3xl font-semibold text-gray-900 mt-1">۱٬۳۴۵</p>
            <p class="text-red-500 text-xs mt-1">▼ ۳% از ماه قبل</p>
        </div>

        <div class="card p-5 border-b-4 border-yellow-500">
            <p class="text-gray-500 text-sm">سفارشات معلق</p>
            <p class="text-3xl font-semibold text-gray-900 mt-1">۲۱۰</p>
            <p class="text-yellow-500 text-xs mt-1">● بدون تغییر</p>
        </div>

        <div class="card p-5 border-b-4 border-green-500">
            <p class="text-gray-500 text-sm">بازدید صفحه</p>
            <p class="text-3xl font-semibold text-gray-900 mt-1">۸۷٬۴۵۰</p>
            <p class="text-green-500 text-xs mt-1">▲ ۵% از دیروز</p>
        </div>
    </div>

    <!-- 2. Charts Section - Updated to single column (one row per chart) -->
    <section id="charts-section" class="mb-8">
        <h2 class="text-2xl font-semibold text-gray-700 mb-4">گزارشات و نمودارها</h2>
        <!-- Removed lg:grid-cols-2 to force stacking/one chart per row -->
        <div class="grid grid-cols-1 gap-6">

            <!-- Sales Chart -->
            <div class="card p-4">
                <h3 class="text-xl font-medium mb-4 text-gray-700">نمودار فروش ماهانه</h3>
                <div class="h-80">
                    <!-- Increased height for better visualization -->
                    <canvas id="salesChart"></canvas>
                </div>
            </div>

            <!-- User Acquisition Chart -->
            <div class="card p-4">
                <h3 class="text-xl font-medium mb-4 text-gray-700">نمودار ثبت نام کاربران</h3>
                <div class="h-80">
                    <!-- Increased height for better visualization -->
                    <canvas id="usersChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <!-- 3. Forms Section - Expanded with more input types -->
    <section id="forms-section" class="mb-8">
        <h2 class="text-2xl font-semibold text-gray-700 mb-4">فرم ثبت یا ویرایش اطلاعات</h2>
        <div class="card p-6">
            <form onsubmit="event.preventDefault(); console.log('Form Submitted');">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">

                    <!-- First Name -->
                    <div>
                        <label for="form_first_name" class="block text-sm font-medium text-gray-700 mb-1">نام</label>
                        <input type="text" id="form_first_name" name="first_name" placeholder="نام خود را وارد کنید"
                               class="mt-1 p-3 block w-full border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150">
                    </div>

                    <!-- Last Name -->
                    <div>
                        <label for="form_last_name" class="block text-sm font-medium text-gray-700 mb-1">نام خانوادگی</label>
                        <input type="text" id="form_last_name" name="last_name" placeholder="نام خانوادگی را وارد کنید"
                               class="mt-1 p-3 block w-full border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150">
                    </div>

                    <!-- Email -->
                    <div>
                        <label for="form_email" class="block text-sm font-medium text-gray-700 mb-1">ایمیل</label>
                        <input type="email" id="form_email" name="email" placeholder="example@domain.com"
                               class="mt-1 p-3 block w-full border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150">
                    </div>

                    <!-- Date Input -->
                    <div>
                        <label for="start_date" class="block text-sm font-medium text-gray-700 mb-1">تاریخ شروع</label>
                        <input type="date" id="start_date" name="start_date"
                               class="mt-1 p-3 block w-full border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 text-gray-700">
                    </div>

                    <!-- Role Select -->
                    <div>
                        <label for="form_role" class="block text-sm font-medium text-gray-700 mb-1">نقش</label>
                        <select id="form_role" name="role"
                                class="mt-1 p-3 block w-full border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 bg-white">
                            <option value="" disabled selected>انتخاب نقش</option>
                            <option value="admin">مدیر (Admin)</option>
                            <option value="editor">ویرایشگر (Editor)</option>
                            <option value="viewer">بیننده (Viewer)</option>
                        </select>
                    </div>

                    <!-- File/Image Upload -->
                    <div>
                        <label for="image_upload" class="block text-sm font-medium text-gray-700 mb-1">ورود عکس/فایل</label>
                        <input type="file" id="image_upload" name="image_upload" accept="image/*"
                               class="mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 transition duration-150 cursor-pointer">
                    </div>
                </div>

                <!-- Radio Buttons and Checkboxes -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 pt-4 border-t border-gray-100">

                    <!-- Radio Buttons -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">نوع اشتراک</label>
                        <div class="flex items-center space-x-4 space-x-reverse">
                            <div class="flex items-center">
                                <input id="sub_basic" name="subscription" type="radio" checked
                                       class="h-4 w-4 text-indigo-600 border-gray-300 focus:ring-indigo-500 ml-2">
                                <label for="sub_basic" class="text-sm font-medium text-gray-700">پایه</label>
                            </div>
                            <div class="flex items-center">
                                <input id="sub_pro" name="subscription" type="radio"
                                       class="h-4 w-4 text-indigo-600 border-gray-300 focus:ring-indigo-500 ml-2">
                                <label for="sub_pro" class="text-sm font-medium text-gray-700">حرفه‌ای</label>
                            </div>
                            <div class="flex items-center">
                                <input id="sub_ent" name="subscription" type="radio"
                                       class="h-4 w-4 text-indigo-600 border-gray-300 focus:ring-indigo-500 ml-2">
                                <label for="sub_ent" class="text-sm font-medium text-gray-700">سازمانی</label>
                            </div>
                        </div>
                    </div>

                    <!-- Checkboxes -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">مجوزها</label>
                        <div class="space-y-2">
                            <div class="flex items-center">
                                <input id="perm_read" name="permissions" type="checkbox" checked
                                       class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 ml-2">
                                <label for="perm_read" class="text-sm font-medium text-gray-700">مجوز خواندن</label>
                            </div>
                            <div class="flex items-center">
                                <input id="perm_write" name="permissions" type="checkbox"
                                       class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 ml-2">
                                <label for="perm_write" class="text-sm font-medium text-gray-700">مجوز نوشتن</label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Textarea -->
                <div class="mb-6">
                    <label for="description" class="block text-sm font-medium text-gray-700 mb-1">توضیحات تکمیلی</label>
                    <textarea id="description" name="description" rows="3" placeholder="توضیحات اضافی را اینجا بنویسید..."
                              class="mt-1 p-3 block w-full border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150"></textarea>
                </div>

                <!-- Submit Button -->
                <div class="flex justify-end">
                    <button type="submit"
                            class="w-full sm:w-auto px-8 py-3 border border-transparent rounded-lg shadow-md text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150">
                        ثبت نهایی اطلاعات
                    </button>
                </div>
            </form>
        </div>
    </section>

    <!-- 4. Data Table with Search - Updated action column to buttons -->
    <section id="table-section" class="mb-8">
        <h2 class="text-2xl font-semibold text-gray-700 mb-4">مدیریت کاربران</h2>

        <div class="card p-6">

            <!-- Search Input -->
            <div class="mb-4">
                <input type="text" id="user-search" onkeyup="filterTable()" placeholder="جستجو بر اساس نام، ایمیل یا نقش..."
                       class="p-3 w-full border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150">
            </div>

            <!-- Table Container (Responsive Scroll) -->
            <div class="overflow-x-auto rounded-lg border border-gray-200">
                <table class="min-w-full divide-y divide-gray-200" id="user-table">
                    <thead class="bg-gray-50">
                        <tr>
                            <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                شناسه
                            </th>
                            <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                نام کامل
                            </th>
                            <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                ایمیل
                            </th>
                            <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                نقش
                            </th>
                            <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                وضعیت
                            </th>
                            <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                عملیات
                            </th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200" id="user-table-body">
                        <!-- Data Rows - Actions changed to buttons -->
                        <tr class="hover:bg-gray-50 transition duration-150">
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">۱</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">مسعود ملکی</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">masoud@example.com</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">مدیر</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm">
                                <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">فعال</span>
                            </td>
                            <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                <button onclick="console.log('Edit User 1')" class="px-3 py-1 bg-indigo-500 text-white text-xs rounded-lg hover:bg-indigo-600 transition duration-150 ml-2 shadow-md">ویرایش</button>
                                <button onclick="console.log('Delete User 1')" class="px-3 py-1 bg-red-500 text-white text-xs rounded-lg hover:bg-red-600 transition duration-150 shadow-md">حذف</button>
                            </td>
                        </tr>
                        <tr class="hover:bg-gray-50 transition duration-150">
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">۲</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">سارا محمدی</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">sara@example.com</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">ویرایشگر</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm">
                                <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">فعال</span>
                            </td>
                            <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                <button onclick="console.log('Edit User 2')" class="px-3 py-1 bg-indigo-500 text-white text-xs rounded-lg hover:bg-indigo-600 transition duration-150 ml-2 shadow-md">ویرایش</button>
                                <button onclick="console.log('Delete User 2')" class="px-3 py-1 bg-red-500 text-white text-xs rounded-lg hover:bg-red-600 transition duration-150 shadow-md">حذف</button>
                            </td>
                        </tr>
                        <tr class="hover:bg-gray-50 transition duration-150">
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">۳</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">علی کریمی</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">بیننده</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm">
                                <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">غیرفعال</span>
                            </td>
                            <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                <button onclick="console.log('Edit User 3')" class="px-3 py-1 bg-indigo-500 text-white text-xs rounded-lg hover:bg-indigo-600 transition duration-150 ml-2 shadow-md">ویرایش</button>
                                <button onclick="console.log('Delete User 3')" class="px-3 py-1 bg-red-500 text-white text-xs rounded-lg hover:bg-red-600 transition duration-150 shadow-md">حذف</button>
                            </td>
                        </tr>
                        <!-- More Data Rows can be added here -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>

</main>
